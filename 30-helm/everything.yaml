############################################################
# Ping Identity
#
############################################################

global:
  workload:
    statefulSet:
      persistentvolume:
        enabled: true
        volumes:
#          out-dir:
#            mountPath: /opt/out
#            persistentVolumeClaim:
#              accessModes:
#                - ReadWriteOnce
#              storageClassName:
#              resources:
#                requests:
#                  storage: 4Gi
          backup-dir:
            mountPath: /opt/backup
            persistentVolumeClaim:
              accessModes:
                - ReadWriteOnce
              storageClassName:
              resources:
                requests:
                  storage: 4Gi

pingaccess-admin:
  image:
    tag: dataimport
  enabled: true
  privateCert:
    generate: true
  envs:
    SERVER_PROFILE_URL: https://github.com/pingidentity/pingidentity-server-profiles.git
    SERVER_PROFILE_PATH: baseline/pingaccess
  container:
    envFrom:
      - configMapRef:
          name: pingaccess-data
          optional: true
    waitFor:
      pingfederate-engine:
        service: https
        timeoutSeconds: 300
  workload:
    statefulSet:
      persistentvolume:
        enabled: false

pingaccess-engine:
  enabled: true
  envs:
    SERVER_PROFILE_URL: https://github.com/pingidentity/pingidentity-server-profiles.git
    SERVER_PROFILE_PATH: baseline/pingaccess

pingdataconsole:
  enabled: true
  envs:
    SERVER_PROFILE_URL: https://github.com/pingidentity/pingidentity-server-profiles.git
    SERVER_PROFILE_PATH: baseline/pingdataconsole

pingauthorize:
  enabled: true
  envs:
    SERVER_PROFILE_URL: https://github.com/pingidentity/pingidentity-server-profiles.git
    SERVER_PROFILE_PATH: baseline/pingauthorize

pingdirectory:
  image:
    tag: dataimport
  enabled: true
  envs:
    SERVER_PROFILE_URL: https://github.com/pingidentity/pingidentity-server-profiles.git
    SERVER_PROFILE_PATH: baseline/pingdirectory

pingfederate-admin:
  image:
    tag: dataimport
  enabled: true
  envs:
    SERVER_PROFILE_URL: https://github.com/pingidentity/pingidentity-server-profiles.git
    SERVER_PROFILE_PATH: baseline/pingfederate
  container:
    envFrom:
      - configMapRef:
          name: pingfederate-data
          optional: true

pingfederate-engine:
  enabled: true
  envs:
    SERVER_PROFILE_URL: https://github.com/pingidentity/pingidentity-server-profiles.git
    SERVER_PROFILE_PATH: baseline/pingfederate
